---
# *** WARNING ***
# This file is automatically generated by build.yml.
# Changes made to this file may be overwritten.
#

[bmetal]


{% if core_instances is defined %}
[nserver]
{% for server in core_instances %}
{% if server.inventory == "nserver" %}
{{ server.hostname }} ansible_host={{ server.ansible_host | regex_replace('^.*@(.*):.*$', '\\1')  }} ansible_user={{ server.ansible_host | regex_replace('^(.*)@.*:.*$', '\\1')  }} ansible_port={{ server.ansible_host | regex_replace('^.*@.*:(.*)$', '\\1')  }}
{% endif %}
{% endfor %}
{% endif %}

{% if core_instances is defined %}
[vsd]
{% for server in core_instances %}
{% if server.inventory == "vsd" %}
{{ server.hostname }} ansible_host={{ server.ansible_host | regex_replace('^.*@(.*):.*$', '\\1')  }} ansible_user={{ server.ansible_host | regex_replace('^(.*)@.*:.*$', '\\1')  }} ansible_port={{ server.ansible_host | regex_replace('^.*@.*:(.*)$', '\\1')  }}
{% endif %}
{% endfor %}
{% endif %}

{% if vsc_controllers is defined %}
[vsc]
{% for server in vsc_controllers %}
{% if server.inventory == "vsc" %}
{{ server.hostname }} ansible_host={{ server.ansible_host | regex_replace('^.*@(.*):.*$', '\\1')  }} ansible_user={{ server.ansible_host | regex_replace('^(.*)@.*:.*$', '\\1')  }} ansible_port={{ server.ansible_host | regex_replace('^.*@.*:(.*)$', '\\1')  }}
{% endif %}
{% endfor %}
{% endif %}

{% if core_instances is defined %}
[util]
{% for server in core_instances %}
{% if server.inventory == "util" %}
{{ server.hostname }} ansible_host={{ server.ansible_host | regex_replace('^.*@(.*):.*$', '\\1')  }} ansible_user={{ server.ansible_host | regex_replace('^(.*)@.*:.*$', '\\1')  }} ansible_port={{ server.ansible_host | regex_replace('^.*@.*:(.*)$', '\\1')  }}
{% endif %}
{% endfor %}
{% endif %}

{% if core_instances is  defined %}
[stat]
{% for server in core_instances %}
{% if server.inventory == "stat" %}
{{ server.hostname }} ansible_host={{ server.ansible_host | regex_replace('^.*@(.*):.*$', '\\1')  }} ansible_user={{ server.ansible_host | regex_replace('^(.*)@.*:.*$', '\\1')  }} ansible_port={{ server.ansible_host | regex_replace('^.*@.*:(.*)$', '\\1')  }}
{% endif %}
{% endfor %}
{% endif %}

{% if k8s_instances is defined %}
[consul]
{% for server in k8s_instances %}
{% if server.inventory == "consul" %}
{{ server.hostname }} ansible_host={{ server.ansible_host | regex_replace('^.*@(.*):.*$', '\\1')  }} ansible_user={{ server.ansible_host | regex_replace('^(.*)@.*:.*$', '\\1')  }} ansible_port={{ server.ansible_host | regex_replace('^.*@.*:(.*)$', '\\1')  }}
{% endif %}
{% endfor %}
{% endif %}

{% if k8s_instances is defined %}
[docker]
{% for server in k8s_instances %}
{% if server.inventory == "docker" %}
{{ server.hostname }} ansible_host={{ server.ansible_host | regex_replace('^.*@(.*):.*$', '\\1')  }} ansible_user={{ server.ansible_host | regex_replace('^(.*)@.*:.*$', '\\1')  }} ansible_port={{ server.ansible_host | regex_replace('^.*@.*:(.*)$', '\\1')  }}
{% endif %}
{% endfor %}
{% endif %}

{% if k8s_instances is defined %}
[kubernetes]
{% for server in k8s_instances %}
{% if server.inventory == "kubernetes" %}
{{ server.hostname }} ansible_host={{ server.ansible_host | regex_replace('^.*@(.*):.*$', '\\1')  }} ansible_user={{ server.ansible_host | regex_replace('^(.*)@.*:.*$', '\\1')  }} ansible_port={{ server.ansible_host | regex_replace('^.*@.*:(.*)$', '\\1')  }}
{% endif %}
{% endfor %}
{% endif %}

{% if nsg_instances is defined %}
[nsg]
{% for server in nsg_instances %}
{% if server.inventory == "nsg" %}
{{ server.hostname }}
{% endif %}
{% endfor %}
{% endif %}

{% if desktops is defined %}
[client]
{% for server in desktops %}
{% if server.inventory == "client" %}
{{ server.hostname }}
{% endif %}
{% endfor %}
{% endif %}

{% if core_instances is defined %}
[webvirtmgr]
{% for server in core_instances %}
{% if server.inventory == "webvirtmgr" %}
{{ server.hostname }} ansible_host={{ server.ansible_host | regex_replace('^.*@(.*):.*$', '\\1')  }} ansible_user={{ server.ansible_host | regex_replace('^(.*)@.*:.*$', '\\1')  }} ansible_port={{ server.ansible_host | regex_replace('^.*@.*:(.*)$', '\\1')  }}
{% endif %}
{% endfor %}
{% endif %}
